{% extends "base.html" %}

{% block conteudo %}

{% load crispy_forms_tags %}

<section class='vh-120' id='login_id' style='background-color: #abc0e7; margin-bottom: -10px; '>
  <div class='container py-5 h-100'  >
    <div class='row d-flex justify-content-center align-items-center h-100'>
      <div class='card shadow-2-strong' style='border-radius: 1rem;'>
        <div class='card-body p-5 text-center'>

          <img src="/static/img/Arte PI2.png" width="auto" height="100px" alt='Logotipo e-vizinhos'>

          {% if form.errors %}
          <h4 style='color: red;'>Usuário ou senha incorretos. Tente novamente.</h2>
          {% endif %}
        
          {% if next %}
            {% if user.is_authenticated %}
              <p>Sua conta não tem acesso a essa página, para prosseguir faça login.</p>
            {% else %}
              <h3 class='mb-5'>Faça login para acessar a pagina.</h3>
            {% endif %}
          {% endif %}
          <meta name="google-signin-client_id" content="208878091883-subnkv6r7546obsplcjrdbenu7d1gegr.apps.googleusercontent.com">
          <script src="https://apis.google.com/js/platform.js" async defer></script>
      
          <form class='form' method="post" action="{% url 'login' %}">
            {% csrf_token %}
              <div class = "form-group md-6">
                {{form.username|as_crispy_field}}
              </div>
              <div class = "form-group md-6">
                {{form.password|as_crispy_field}}
              </div>
            
            <input type="submit" class='btn btn-info btn-md' value="Login" />
            <input type="hidden" name="next" value="/" />
          </form>
          <br>
          <p class="text-left text-center">Não é cadastrado? Clique <a href="/register/">aqui</a>.</p>
          <br>

          <button type="button" class="btn btn-light">
            <i class="fa fa-google"></i>
            <a class="white" href="{% url 'social:begin' 'google-oauth2' %}">
                Login com Google
            </a>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>


{% endblock conteudo %}